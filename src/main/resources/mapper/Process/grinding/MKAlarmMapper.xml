<?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.demo.mapper.process.mk.MF1AlarmMapper">

    <select id="MF_1_ALARM_LIST" resultType="com.demo.model.equip.SpotAlarm">
       SELECT
						devName as equip,
						SC_PART as part,
						SC_CONTENT AS spot,
            RESULT AS value,
            ID as id,
            std_value as standard,
            uploadResultTime as time,
            (
                CASE
                WHEN ALTPID = 1 THEN
                    "二级"
                WHEN ALTPID = 2 THEN
                    "一级"
                END
            ) level
        FROM
            dxj_spot_result
        WHERE
            (ALTPID = 1 OR ALTPID = 2)
        AND
						(
		                  ROUTE_NAME = '磨机线路'
                OR
                        devName = 'MQY2745再磨机'
                OR
                        devName = 'MQY4870球磨机'
                OR
                        devName = 'MZS6433半自磨机'
				OR
                        ROUTE_NAME = 'MQY2745再磨机'
                OR
                        ROUTE_NAME = 'MQY4870球磨机'
                OR
                        ROUTE_NAME = 'MZS6433半自磨机'
                OR
                        ROUTE_NAME = '磨机底层设备'
								OR
                        ROUTE_NAME = '磨机底层'
						 )
								and   ALTPID !=0
								and  alarm_flag='N'
								AND date(uploadResultTime) >= DATE_SUB(CURDATE(), INTERVAL 30 DAY)
        ORDER BY
            COMPLETE_TM DESC
   </select>
</mapper>